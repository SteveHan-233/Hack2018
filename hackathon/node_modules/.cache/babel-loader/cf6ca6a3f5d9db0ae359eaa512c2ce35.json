{"remainingRequest":"/Users/timothyqin/ONE/hackathon/node_modules/babel-loader/lib/index.js!/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/timothyqin/ONE/hackathon/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/timothyqin/ONE/hackathon/src/components/Bank.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/timothyqin/ONE/hackathon/src/components/Bank.vue","mtime":1563677722973},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { httpGetOptions, httpPostOptions } from \"../lib/http\";\nvar PLAID_OPTIONS = null;\nexport default {\n  name: \"bank\",\n  beforeMount: function beforeMount() {\n    fetch(\"http://127.0.0.1:8080/bank\", httpGetOptions()).then(function (res) {\n      return res.json();\n    }).then(function (response) {\n      PLAID_OPTIONS = response;\n\n      (function ($) {\n        var products = response.PLAID_PRODUCTS.split(',');\n\n        if (products.includes('assets')) {\n          $('#assets').show();\n        }\n\n        var handler = Plaid.create({\n          apiVersion: 'v2',\n          clientName: 'Plaid Quickstart',\n          env: response.PLAID_ENV,\n          product: products,\n          key: response.PLAID_PUBLIC_KEY,\n          countryCodes: response.PLAID_COUNTRY_CODES.split(','),\n          // webhook: 'https://your-domain.tld/plaid-webhook',\n          onSuccess: function onSuccess(public_token) {\n            var model = {\n              public_token: public_token\n            };\n            fetch(\"http://127.0.0.1:8080/bank/get_access_token\", httpPostOptions(model)).then(function (res) {\n              return res.json();\n            }).then(function (data) {\n              $('#container').fadeOut('fast', function () {\n                $('#item_id').text(data.item_id);\n                $('#access_token').text(data.access_token);\n                $('#intro').hide();\n                $('#app, #steps').fadeIn('slow');\n              });\n            });\n          }\n        });\n        var accessToken = qs('access_token');\n\n        if (accessToken != null && accessToken != '') {\n          var model = {\n            access_token: accessToken\n          };\n          fetch(\"http://127.0.0.1:8080/bank/set_access_token\", httpPostOptions(model)).then(function (res) {\n            return res.json();\n          }).then(function (data) {\n            $('#container').fadeOut('fast', function () {\n              $('#item_id').text(data.item_id);\n              $('#access_token').text(accessToken);\n              $('#intro').hide();\n              $('#app, #steps').fadeIn('slow');\n            });\n          });\n        }\n\n        $('#get-transactions-btn').on('click', function (e) {\n          fetch(\"http://127.0.0.1:8080/bank/transactions\", httpGetOptions()).then(function (res) {\n            return res.json();\n          }).then(function (data) {\n            var html = '<tr><td><strong>Name</strong></td><td><strong>Amount</strong></td><td><strong>Date</strong></td></tr>';\n            data.transactions.forEach(function (txn, idx) {\n              html += '<tr>';\n              html += '<td>' + txn.name + '</td>';\n              html += '<td>$' + txn.amount + '</td>';\n              html += '<td>' + txn.date + '</td>';\n              html += '</tr>';\n            });\n            $(this).slideUp(function () {\n              $(this).html(html).slideDown();\n            });\n          });\n        });\n        $('#link-btn').on('click', function (e) {\n          handler.open();\n        });\n      })(jQuery);\n    });\n  },\n  mounted: function mounted() {},\n  methods: {}\n};\n\nfunction qs(key) {\n  key = key.replace(/[*+?^$.\\[\\]{}()|\\\\\\/]/g, \"\\\\$&\"); // escape RegEx meta chars\n\n  var match = location.search.match(new RegExp(\"[?&]\" + key + \"=([^&]+)(&|$)\"));\n  return match && decodeURIComponent(match[1].replace(/\\+/g, \" \"));\n}",{"version":3,"sources":["Bank.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <main class=\"main\">\n        <div class=\"grid\">\n            <div class=\"grid__column grid__column--is-twelve-columns\">\n                <div id=\"banner\" class=\"everpresent-content\">\n                    <h1 class=\"everpresent-content__heading\">Plaid Quickstart</h1>\n                    <p id=\"intro\" class=\"everpresent-content__subheading\">\n                        An example application that outlines an end-to-end integration with Plaid\n                    </p>\n                    <p id=\"steps\" class=\"everpresent-content__subheading\">\n                        Success! You just created an Item by linking your account.\n                    </p>\n                </div>\n\n                <div id=\"container\" class=\"initial-view\">\n                    <p class=\"initial-view__description\">\n                        Click the button below to open a list of Institutions. After you select one, youâ€™ll be guided through an authentication process. Upon completion, a public_token will be passed back to the server and exchanged for access_token.\n                    </p>\n\n                    <button id=\"link-btn\" class=\"button button--is-primary\">Connect with Plaid</button>\n                </div>\n\n                <div id=\"app\" class=\"connected-view\">\n                    <div class=\"item-overview\">\n                        <div class=\"item-overview__column\">\n                            <h3 class=\"item-overview__heading\">item_id</h3>\n                            <p class=\"item-overview__id\" id=\"item_id\">san.asjsansakjsakjasjksajkas</p>\n                        </div>\n                        <div class=\"item-overview__column\">\n                            <h3 class=\"item-overview__heading\">access_token</h3>\n                            <p class=\"item-overview__id\" id=\"access_token\">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢hsakjsl</p>\n                        </div>\n\n                        <div style=\"clear: both\"></div>\n                    </div>\n\n                    <p>Now that you have an access_token you can make all of the following API requests:</p>\n\n                    <div class=\"box\">\n                        <h3 class=\"box__heading\">Products</h3>\n                        <!--Transactions -->\n                        <div class=\"item-data-row\">\n                            <div class=\"item-data-row__left\">\n                                <div class=\"item-data-row__request-type\">post</div>\n                            </div>\n                            <div class=\"item-data-row__center\">\n                                <div class=\"item-data-row__nicename\">Transactions</div>\n                                <div class=\"item-data-row__endpoint\">/transactions/get</div>\n                                <div class=\"item-data-row__description\">Retrieve transactions for credit and depository accounts.</div>\n                            </div>\n                            <div class=\"item-data-row__right\">\n                                <button id=\"get-transactions-btn\" class=\"button button--is-small button--is-default button--is-full-width\">Send request</button>\n                            </div>\n                            <div class=\"item-data-row__response\">\n                                <table><tbody id=\"get-transactions-data\"></tbody></table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n<script>\n    import {httpGetOptions, httpPostOptions} from \"../lib/http\";\n\n    let PLAID_OPTIONS = null\n\n    export default {\n        name: \"bank\",\n        beforeMount() {\n            fetch(\"http://127.0.0.1:8080/bank\", httpGetOptions())\n                .then(res => res.json())\n                .then(response => {\n                    PLAID_OPTIONS = response;\n                    (function($) {\n                        var products = response.PLAID_PRODUCTS.split(',');\n                        if (products.includes('assets')) {\n                            $('#assets').show();\n                        }\n\n                        var handler = Plaid.create({\n                            apiVersion: 'v2',\n                            clientName: 'Plaid Quickstart',\n                            env: response.PLAID_ENV,\n                            product: products,\n                            key: response.PLAID_PUBLIC_KEY,\n                            countryCodes: response.PLAID_COUNTRY_CODES.split(','),\n                            // webhook: 'https://your-domain.tld/plaid-webhook',\n                            onSuccess: function(public_token) {\n                                var model = {\n                                    public_token: public_token\n                                };\n                                fetch(\"http://127.0.0.1:8080/bank/get_access_token\", httpPostOptions(model))\n                                    .then(res => res.json())\n                                    .then(function(data) {\n                                        $('#container').fadeOut('fast', function() {\n                                            $('#item_id').text(data.item_id);\n                                            $('#access_token').text(data.access_token);\n                                            $('#intro').hide();\n                                            $('#app, #steps').fadeIn('slow');\n                                        })\n                                    });\n                            },\n                        });\n\n                        var accessToken = qs('access_token');\n                        if (accessToken != null && accessToken != '') {\n                            var model = {\n                                access_token: accessToken\n                            };\n                            fetch(\"http://127.0.0.1:8080/bank/set_access_token\", httpPostOptions(model))\n                                .then(res => res.json())\n                                .then(function(data) {\n                                    $('#container').fadeOut('fast', function() {\n                                        $('#item_id').text(data.item_id);\n                                        $('#access_token').text(accessToken);\n                                        $('#intro').hide();\n                                        $('#app, #steps').fadeIn('slow');\n                                    });\n                                });\n                        }\n                        $('#get-transactions-btn').on('click', function(e) {\n                            fetch(\"http://127.0.0.1:8080/bank/transactions\", httpGetOptions())\n                                .then(res => res.json())\n                                .then(function(data) {\n                                    var html = '<tr><td><strong>Name</strong></td><td><strong>Amount</strong></td><td><strong>Date</strong></td></tr>';\n                                            data.transactions.forEach(function(txn, idx) {\n                                                html += '<tr>';\n                                                html += '<td>' + txn.name + '</td>';\n                                                html += '<td>$' + txn.amount + '</td>';\n                                                html += '<td>' + txn.date + '</td>';\n                                                html += '</tr>';\n                                            });\n\n                                            $(this).slideUp(function() {\n                                                $(this).html(html).slideDown();\n                                            });\n                                    });\n                        });\n                        $('#link-btn').on('click', function(e) {\n                            handler.open();\n                        });\n                    })(jQuery);\n                });\n        },\n        mounted() {\n        },\n        methods: {\n        }\n    };\n\n\n    function qs(key) {\n        key = key.replace(/[*+?^$.\\[\\]{}()|\\\\\\/]/g, \"\\\\$&\"); // escape RegEx meta chars\n        var match = location.search.match(new RegExp(\"[?&]\"+key+\"=([^&]+)(&|$)\"));\n        return match && decodeURIComponent(match[1].replace(/\\+/g, \" \"));\n    }\n</script>\n<style scoped>\n    /*\n\nBase\n\n*/\n\n    /*body {*/\n    /*    background: #ffffff;*/\n    /*}*/\n\n    .main {\n        max-width: 960px;\n        margin-right: auto;\n        margin-left: auto;\n        padding: 80px 40px;\n    }\n\n\n    /*\n\n    Content at the top of the view\n\n    */\n    .everpresent-content {\n        border-bottom-width: 1px;\n        border-bottom-color: #E3E9EF;\n        border-bottom-style: solid;\n        margin-bottom: 16px;\n        padding-bottom: 16px;\n    }\n\n    .everpresent-content__heading {\n        margin-bottom: 16px;\n    }\n\n    .everpresent-content__subheading {\n        font-size: 24px;\n        font-weight: 300;\n        color: #527084;\n        line-height: 32px;\n        margin-bottom: 0;\n    }\n\n    /*\n\n    Item overview\n\n    */\n\n    .item-overview {\n        padding-bottom: 16px;\n    }\n\n    .item-overview__column {\n        width: 50%;\n        float: left;\n    }\n\n    .item-overview__column:nth-child(1) {\n        padding-right: 8px;\n    }\n\n    .item-overview__column:nth-child(2) {\n        padding-left: 8px;\n    }\n\n    .item-overview__heading {\n        font-weight: bold;\n        text-transform: uppercase;\n        font-size: 12px;\n        margin-bottom: 0;\n    }\n\n    .item-overview__id {\n        text-overflow: ellipsis;\n        overflow-x: hidden;\n    }\n\n    /*\n\n    One off tweaks to the layout for tables\n\n    */\n\n    .response-row {\n    }\n\n    .response-row--is-identity td {\n        width: 25%;\n        display: inline-block;\n        overflow-wrap: break-word;\n        vertical-align: top;\n    }\n\n    /*\n\n    Display content inside of box\n\n    */\n\n    .box {\n        border-radius: 4px;\n        border-width: 1px;\n        border-color: #E3E9EF;\n        border-style: solid;\n        border-radius: 4px;\n        margin-bottom: 24px;\n        overflow: hidden;\n        box-shadow: 0 1px 2px rgba(3,49,86,0.2);\n    }\n\n    .box__heading {\n        padding: 16px 24px;\n        border-bottom-width: 1px;\n        border-bottom-color: #E3E9EF;\n        border-bottom-style: solid;\n        background-color: #FAFCFD;\n        margin-bottom: 0;\n    }\n\n\n    /*\n\n    Item row\n\n    */\n    .item-data-row {\n        border-bottom-width: 1px;\n        border-bottom-color: #E3E9EF;\n        border-bottom-style: solid;\n        padding-top: 24px;\n        padding-bottom: 24px;\n        padding-left: 24px;\n        padding-right: 24px;\n    }\n\n    .item-data-row:after {\n        clear: both;\n        content: '';\n        display: table;\n    }\n\n    .item-data-row:last-child {\n        margin-bottom: 0;\n        border-bottom: 0;\n    }\n\n    .item-data-row__request-type {\n        /* background-color */\n        font-size: 12px;\n        color: #02B1F8;\n        letter-spacing: 0;\n        background: #D9F3FE;\n        font-weight: 600;\n        text-transform: uppercase;\n        border-radius: 4px;\n        height: 32px;\n        line-height: 32px;\n        text-align: center;\n        font-size: 14px;\n    }\n\n    .item-data-row__endpoint {\n        font-family: \"monaco\", courier;\n        font-size: 14px;\n        line-height: 32px;\n        display: inline-block;\n    }\n\n    .item-data-row__nicename {\n        font-size: 16px;\n        line-height: 32px;\n        display: inline-block;\n        font-weight: 500;\n        color: #033156;\n    }\n\n\n    .item-data-row__left {\n        width: 13%;\n        float: left;\n    }\n\n    .item-data-row__center {\n        width: 62%;\n        float: left;\n        padding-left: 16px;\n    }\n\n    .item-data-row__right {\n        width: 25%;\n        float: left;\n    }\n\n    /*\n\n    Hide things\n\n    */\n\n    #app {\n        display: none;\n    }\n\n    #steps {\n        display: none;\n    }\n\n    /*\n\n    Errors\n\n    */\n\n    .alert {\n        padding: 15px;\n        margin-top: 20px;\n        margin-bottom: 20px;\n        border: 1px solid transparent;\n        border-radius: 4px;\n    }\n\n    .alert-danger {\n        color: #a94442;\n        background-color: #f2dede;\n        border-color: #ebccd1;\n    }\n\n    .alert-danger a {\n        color: #a94442;\n        font-weight: bold;\n    }\n\n</style>\n"],"sourceRoot":"src/components"}]}