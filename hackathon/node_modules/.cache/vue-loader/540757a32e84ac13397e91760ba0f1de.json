{"remainingRequest":"/Users/timothyqin/ONE/hackathon/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/timothyqin/ONE/hackathon/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/timothyqin/ONE/hackathon/src/components/Login.vue","mtime":1559750425306},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { httpGetOptions } from \"../lib/http\";\n\nexport default {\n    name: 'login',\n    data() {\n        return {\n            LoginModel: {\n                username: '',\n                password: ''\n            }\n        }\n    },\n    computed: {\n        getCurrentUser() {\n            return this.$store.state.username;\n        }\n    },\n    methods: {\n        login() {\n            fetch(\"http://127.0.0.1:8080/users\", httpGetOptions())\n                .then(res => res.json())\n                .then(response => {\n                    var users = response.users;\n                    var found = false;\n                    for(var i = 0; i < users.length; i++) {\n                        if(users[i].username.trim() === this.LoginModel.username.trim() && users[i].password.trim() === this.LoginModel.password.trim()) {\n                            found = true;\n                            this.setCurrentUser(this.LoginModel.username.trim());\n                            this.$store.dispatch(\"clearCurrentStoredTransactionsAction\");\n                            console.log(\"Set username in store: \" + this.getCurrentUser);\n                            this.getData();\n                        }\n                    }\n                    if(!found) {\n                        alert(\"Wrong username or password!\");\n                    }\n                })\n                .catch(error => console.error('Error:', error));\n        },\n        getData() {\n            fetch(\"http://127.0.0.1:8080/transactions/\" + this.$store.state.username, httpGetOptions())\n                .then(res => res.json())\n                .then(response => {\n                    var transactions = response.transactions;\n                    for(var i = 0; i < transactions.length; i++) {\n                        this.$store.dispatch(\"addTransactionAction\", transactions[i]);\n                    }\n                    this.$router.push({path: '/dashboard'})\n                })\n                .catch(error => console.error('Error:', error));\n        },\n        signup() {\n            this.$router.push({path: '/signup'});\n        },\n        setCurrentUser(username) {\n            this.$store.dispatch('setCurrentUserAction', username);\n        }\n    }\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container-1\">\n        <main>\n            <div id=\"container-2\">\n            <h2>Login</h2>\n            <input type=\"text\" class=\"form-control margin-bottom\" placeholder=\"Username\" v-model=LoginModel.username><br/>\n            <input type=\"password\" class=\"form-control margin-bottom\" placeholder=\"Password\" @keyup.enter=\"login()\" v-model=LoginModel.password><br/>\n            <button id=\"loginButton\" class=\"btn btn-md btn-success float-center\" @click=\"login()\">\n                Submit\n            </button>\n            <button id=\"signupButton\" class=\"btn btn-md btn-primary float-center\" @click=\"signup()\">\n                SignUp\n            </button>\n            </div>\n        </main>\n    </div>\n</template>\n\n<script>\n    import { httpGetOptions } from \"../lib/http\";\n\n    export default {\n        name: 'login',\n        data() {\n            return {\n                LoginModel: {\n                    username: '',\n                    password: ''\n                }\n            }\n        },\n        computed: {\n            getCurrentUser() {\n                return this.$store.state.username;\n            }\n        },\n        methods: {\n            login() {\n                fetch(\"http://127.0.0.1:8080/users\", httpGetOptions())\n                    .then(res => res.json())\n                    .then(response => {\n                        var users = response.users;\n                        var found = false;\n                        for(var i = 0; i < users.length; i++) {\n                            if(users[i].username.trim() === this.LoginModel.username.trim() && users[i].password.trim() === this.LoginModel.password.trim()) {\n                                found = true;\n                                this.setCurrentUser(this.LoginModel.username.trim());\n                                this.$store.dispatch(\"clearCurrentStoredTransactionsAction\");\n                                console.log(\"Set username in store: \" + this.getCurrentUser);\n                                this.getData();\n                            }\n                        }\n                        if(!found) {\n                            alert(\"Wrong username or password!\");\n                        }\n                    })\n                    .catch(error => console.error('Error:', error));\n            },\n            getData() {\n                fetch(\"http://127.0.0.1:8080/transactions/\" + this.$store.state.username, httpGetOptions())\n                    .then(res => res.json())\n                    .then(response => {\n                        var transactions = response.transactions;\n                        for(var i = 0; i < transactions.length; i++) {\n                            this.$store.dispatch(\"addTransactionAction\", transactions[i]);\n                        }\n                        this.$router.push({path: '/dashboard'})\n                    })\n                    .catch(error => console.error('Error:', error));\n            },\n            signup() {\n                this.$router.push({path: '/signup'});\n            },\n            setCurrentUser(username) {\n                this.$store.dispatch('setCurrentUserAction', username);\n            }\n        }\n    };\n</script>\n\n<style scoped>\n    main {\n        background-color: #F7F7FC;\n        display: grid;\n        height: 100vh;\n        align-content: center;\n        align-items: center;\n        padding: 0 15%;\n    }\n    h2 {\n        font-size: 2em;\n        margin-top: 0;\n        margin-bottom: 1em;\n    }\n    #signupButton {\n        margin-left: 1%;\n    }\n    .container-1 {\n        display: grid; \n        align-items: center;\n        align-content: center;\n    }\n    #container-2 {\n        background-color: white;\n        padding: 4em;\n        border-radius: 2em;\n          box-shadow: -5px 29px 162px -54px grey;\n\n    }\n    @media only screen and (max-width: 1100px) {\n  main{\n    height: 85vh;\n    border-radius: 1em;\n    margin: 0 5vw;\n    background-color: transparent;\n  }\n}\n</style>"]}]}