{"remainingRequest":"/Users/timothyqin/ONE/hackathon/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/timothyqin/ONE/hackathon/src/components/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/timothyqin/ONE/hackathon/src/components/Dashboard.vue","mtime":1558535398898},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/timothyqin/ONE/hackathon/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SpendingChart from \"@/components/SpendingChart\";\nimport SpendingLineChart from \"@/components/SpendingLineChart\";\nimport edit from \"@/components/EditEntry\";\nimport { transactions } from \"../firebase\";\nimport { users } from \"../firebase\";\nvar user = \"\";\n\nexport default {\n  name: \"dashboard\",\n  components: {\n    SpendingChart,\n    edit, \n    SpendingLineChart\n  },\n  data() {\n    return {\n      user: \"\",\n      search: \"\",\n      begin: new Date(0),\n      end: new Date(Date.now()),\n      sum: 0,\n      page: 1,\n      max: 1\n    };\n  },\n  mounted() {\n    console.log(\"áctivated!\");\n    this.user = this.$store.username;\n  },\n  firebase: {\n    list: transactions.orderByChild(\"date\")\n  },\n  computed: {\n    filteredList: function() {\n      this.sum = 0;\n      this.max = Math.ceil(this.list.length / 10);\n      var final = [];\n      var sorted = this.reverseOrder(this.list);\n      for (let i = 0; i < sorted.length; i++) {\n        if (sorted[i].username === this.user) {\n          if (\n            sorted[i].category.toLowerCase().match(this.search.toLowerCase())\n          ) {\n            if (\n              new Date(sorted[i].date.toString()) >=\n                new Date(this.begin.toString()) &&\n              new Date(sorted[i].date.toString()) <=\n                new Date(this.end.toString())\n            ) {\n              final.push(sorted[i]);\n              this.sum += new Number(sorted[i].amount);\n            }\n          }\n        }\n      }\n      return final;\n    }\n  },\n  methods: {\n    rm(elm) {\n      transactions.child(elm[\".key\"]).remove();\n    },\n    reverseOrder(l) {\n      var reversed = [];\n      for (var i = l.length - 1; i >= 0; i--) {\n        reversed.push(l[i]);\n      }\n      return reversed;\n    }\n  }\n};\n",{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <main>\n      <h2>Dashboard</h2>\n      <p class=\"subtitle\">overview of your financial life</p>\n      <div id=\"filter\">\n        <div id=\"search-bar\">\n          <label>Search by Category:</label>\n          <input type=\"text\" class=\"search form-control\" autofocus=\"true\" v-model=\"search\">\n        </div>\n        <div id=\"time-bar\">\n          <label>Search by Date Range:</label>\n          <input\n            type=\"date\"\n            class=\"datepicker form-control margin-bottom\"\n            autofocus=\"true\"\n            name=\"date\"\n            v-model=\"begin\"\n          >\n          <label>to</label>\n          <input\n            type=\"date\"\n            class=\"datepicker form-control margin-bottom\"\n            autofocus=\"true\"\n            name=\"date\"\n            v-model=\"end\"\n          >\n        </div>\n      </div>\n      <!--<div id=\"navPage\">-->\n      <!--<i class=\"fa fa-fast-backward\" aria-hidden=\"true\" @click=\"first()\"></i>-->\n      <!--<i class=\"fa fa-step-backward\" aria-hidden=\"true\" @click=\"prev()\"></i>-->\n      <!--<span id=\"page\">Page {{this.page}} of {{this.max}}</span>-->\n      <!--<i class=\"fa fa-step-forward\" aria-hidden=\"true\" @click=\"next()\"></i>-->\n      <!--<i class=\"fa fa-fast-forward\" aria-hidden=\"true\" @click=\"last()\"></i>-->\n      <!--</div>-->\n      <div id=\"charts\">\n        <spending-chart :sorted=\"filteredList\"></spending-chart>\n        <spending-line-chart :sorted=\"filteredList\"></spending-line-chart>\n      </div>\n      <div id=\"table\">\n        <div id=\"heading\" class=\"rows\">\n          <div class=\"table-heading\">Date</div>\n          <div class=\"table-heading\">Amount</div>\n          <div class=\"table-heading\">Account</div>\n          <div class=\"table-heading\">Category</div>\n          <div class=\"table-heading\">Payee</div>\n          <div class=\"table-heading\">Memo</div>\n        </div>\n        <hr>\n        <ul>\n          <div id=\"data\">\n            <li\n              v-for=\"transaction of filteredList\"\n              :sorted=\"filteredList\"\n              v-bind:key=\"transaction['.key']\"\n            >\n              <div class=\"rows\">\n                <div class=\"date\">{{transaction.date}}</div>\n                <div class=\"amount\">{{transaction.amount}}</div>\n                <div class=\"account\">{{transaction.account}}</div>\n                <div class=\"category\">{{transaction.category}}</div>\n                <div class=\"payee\">{{transaction.payee}}</div>\n                <div class=\"memo\">{{transaction.memo}}</div>\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"rm(transaction)\">Remove</button>\n                <!--<edit :id= \"transaction.get\" :date=\"transaction.date\" :amount=\"transaction.amount\" :account=\"transaction.account\"-->\n                <!--:category=\"transaction.category\" :payee=\"transaction.payee\" :memo=\"transaction.memo\"></edit>-->\n              </div>\n            </li>\n          </div>\n          <hr>\n          <li>\n            <div class=\"rows\">\n              <div id=\"sum\">Sum:</div>\n              <div class=\"amount\">${{this.sum.toFixed(2)}}</div>\n              <div class=\"account\"></div>\n              <div class=\"category\"></div>\n              <div class=\"payee\"></div>\n              <div class=\"memo\"></div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport SpendingChart from \"@/components/SpendingChart\";\nimport SpendingLineChart from \"@/components/SpendingLineChart\";\nimport edit from \"@/components/EditEntry\";\nimport { transactions } from \"../firebase\";\nimport { users } from \"../firebase\";\nvar user = \"\";\n\nexport default {\n  name: \"dashboard\",\n  components: {\n    SpendingChart,\n    edit, \n    SpendingLineChart\n  },\n  data() {\n    return {\n      user: \"\",\n      search: \"\",\n      begin: new Date(0),\n      end: new Date(Date.now()),\n      sum: 0,\n      page: 1,\n      max: 1\n    };\n  },\n  mounted() {\n    console.log(\"áctivated!\");\n    this.user = this.$store.username;\n  },\n  firebase: {\n    list: transactions.orderByChild(\"date\")\n  },\n  computed: {\n    filteredList: function() {\n      this.sum = 0;\n      this.max = Math.ceil(this.list.length / 10);\n      var final = [];\n      var sorted = this.reverseOrder(this.list);\n      for (let i = 0; i < sorted.length; i++) {\n        if (sorted[i].username === this.user) {\n          if (\n            sorted[i].category.toLowerCase().match(this.search.toLowerCase())\n          ) {\n            if (\n              new Date(sorted[i].date.toString()) >=\n                new Date(this.begin.toString()) &&\n              new Date(sorted[i].date.toString()) <=\n                new Date(this.end.toString())\n            ) {\n              final.push(sorted[i]);\n              this.sum += new Number(sorted[i].amount);\n            }\n          }\n        }\n      }\n      return final;\n    }\n  },\n  methods: {\n    rm(elm) {\n      transactions.child(elm[\".key\"]).remove();\n    },\n    reverseOrder(l) {\n      var reversed = [];\n      for (var i = l.length - 1; i >= 0; i--) {\n        reversed.push(l[i]);\n      }\n      return reversed;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  padding: 0;\n  height: 100vh;\n  overflow: scroll;\n  max-width: none;\n}\nlabel {\n  font-weight: 500;\n  font-size: 1.1em;\n}\n/*#search-bar {*/\n/*margin: 30px auto;*/\n/*}*/\n/*#search-bar input {*/\n/*margin-left: 20px;*/\n/*}*/\n.checkbox {\n  margin: 0.5em;\n}\n#filter {\n  display: flex;\n  flex-wrap: wrap;\n}\n.search {\n  width: 9em;\n  display: inline-block;\n  padding: 1%;\n  margin: 0.5em;\n  margin-right: 1.5em;\n}\n.datepicker {\n  width: 11em;\n  display: inline-block;\n  padding: 1%;\n  margin: 0.5em;\n}\n#charts{\n  display: grid; \n  height: 395px;\n  overflow: hidden;\n  grid-template-columns: 1fr 2fr;\n}\n#table {\n  background-color: white;\n  border-radius: 30px;\n  /* box-shadow: -5px 29px 162px -54px grey; */\n  padding-bottom: 15px;\n}\n.table-heading {\n  text-align: center;\n  padding-top: 12px;\n  font-size: 1.2em;\n  font-weight: 700;\n}\n#heading {\n  margin-bottom: 10px;\n}\n#sum {\n  margin: 0;\n  padding: 0;\n}\nul {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.rows {\n  text-align: center;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr 2fr 1fr;\n  margin-top: 0.3em;\n}\nmain {\n  background-color: #f7f7fc;\n  padding: 3em;\n  padding-left: 4em;\n  /* height: 100vh; */\n}\nh2 {\n  font-size: 2em;\n  margin-top: 0;\n  margin-bottom: 0;\n}\ni {\n  margin: 1.5%;\n}\n#navPage {\n  margin-left: 75%;\n}\n.subtitle {\n  margin: 0;\n  font-weight: 500;\n  font-size: 1.2em;\n  color: #878b9d;\n}\n#data {\n  height: 38vh;\n  overflow: scroll;\n}\n\n@media only screen and (max-width: 1100px) {\n  main {\n    height: 85vh;\n    border-radius: 1em;\n    margin: 0 5vw;\n    width: 90vw;\n  }\n  .container {\n    margin: 0;\n  }\n  .datepicker {\n    width: auto;\n  }\n  .search {\n    width: auto;\n  }\n  #data {\n    height: 35vh;\n  }\n}\n</style>\n"]}]}